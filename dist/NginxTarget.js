"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Target_1 = require("./Target");
class NginxTarget extends Target_1.AbstractTarget {
    omitLocation = false;
    constructor(options) {
        super(options);
        if (options.omitLocation) {
            this.omitLocation = options.omitLocation;
        }
    }
    createConfig(assets) {
        const content = [
            `# Automatically generated by ServerPushWebpackPlugin, don't change it manually
# Please include this file in your nginx web server directive
# \`\`\`
#   include nginx.push.conf;
# \`\`\``
        ];
        if (!this.omitLocation) {
            content.push(`location = /${this.index} {`);
        }
        assets.forEach((asset) => {
            content.push(`  http2_push ${asset};`);
        });
        if (!this.omitLocation) {
            content.push('}');
        }
        return content.join('\n');
    }
}
exports.default = NginxTarget;
